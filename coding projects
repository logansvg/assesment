<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Basketball Tips Generator</title>
  <style>
    :root{
      --bg:#0b1020; --card:#0f1724; --accent:#ff6b35; --muted:#9aa4bd;
      --glass: rgba(255,255,255,0.04);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      display:flex;align-items:center;justify-content:center;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(255,107,53,0.06), transparent),
                  radial-gradient(800px 400px at 90% 90%, rgba(0,177,255,0.03), transparent),
                  var(--bg);
      color:#e6eef8;padding:24px;
    }

    .card{
      width:min(820px,96%);
      background:linear-gradient(180deg,var(--card), rgba(255,255,255,0.02));
      border-radius:14px;padding:28px;box-shadow:0 10px 30px rgba(2,6,23,0.7);
      display:grid;grid-template-columns:1fr 300px;gap:20px;align-items:start;
    }

    header{grid-column:1 / -1;display:flex;gap:18px;align-items:center}
    .logo{
      height:56px;width:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#ffd27a);
      display:flex;align-items:center;justify-content:center;font-weight:700;color:#0b1020;font-size:20px;
      box-shadow:0 6px 18px rgba(255,107,53,0.12) inset;
    }
    h1{font-size:20px;margin:0}
    p.lead{margin:0;color:var(--muted);font-size:13px}

    .main{
      background:var(--glass);padding:18px;border-radius:12px;min-height:220px;display:flex;flex-direction:column;gap:12px;
    }
    .tip{
      flex:1;padding:18px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      display:flex;align-items:center;justify-content:center;text-align:center;font-size:18px;line-height:1.4;padding-left:20px;padding-right:20px;
      transition:transform .28s cubic-bezier(.2,.9,.3,1), opacity .25s ease;min-height:120px;
    }
    .controls{display:flex;gap:10px;flex-wrap:wrap}
    button{background:transparent;border:1px solid rgba(255,255,255,0.06);color:inherit;padding:10px 12px;border-radius:10px;cursor:pointer;font-weight:600}
    button.primary{background:linear-gradient(90deg,var(--accent),#ff9b66);color:#0b1020;border:none;box-shadow:0 8px 20px rgba(255,107,53,0.12)}
    button:active{transform:translateY(1px)}

    .meta{font-size:13px;color:var(--muted);display:flex;gap:8px;align-items:center}

    .aside{display:flex;flex-direction:column;gap:12px}
    .list{background:transparent;border-radius:10px;padding:12px;border:1px dashed rgba(255,255,255,0.03);min-height:120px}
    .list h3{margin:0 0 8px 0;font-size:13px}
    ul{margin:0;padding:0;list-style:none;max-height:280px;overflow:auto}
    li{padding:8px;border-radius:8px;margin-bottom:6px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);font-size:13px}

    footer{grid-column:1 / -1;display:flex;justify-content:space-between;color:var(--muted);font-size:13px;margin-top:6px}

    @media (max-width:820px){.card{grid-template-columns:1fr;}.aside{order:2}.main{order:1}}
  </style>
</head>
<body>
  <div class="card" role="application" aria-label="Basketball tips generator">
    <header>
      <div class="logo">B</div>
      <div>
        <h1>Basketball Tips Generator</h1>
        <p class="lead">Click the big button (or press Space / Enter) for instant practice tips, drills, and coaching advice.</p>
      </div>
    </header>

    <section class="main" aria-live="polite">
      <div class="tip" id="tip">Click "Get Tip" to see a basketball tip!</div>

      <div class="controls">
        <button id="newTip" class="primary" aria-label="Get new tip">Get Tip</button>
        <button id="copyBtn" aria-label="Copy tip">Copy</button>
        <button id="shareBtn" aria-label="Share tip">Share</button>
        <button id="saveBtn" aria-label="Save tip">Save</button>
        <button id="randomizeBtn" title="Get a more specific random tip">Get Specific</button>
      </div>

      <div class="meta" id="meta">Tips in library: <strong id="count">0</strong></div>
    </section>

    <aside class="aside">
      <div class="list" aria-label="Saved tips">
        <h3>Saved tips</h3>
        <ul id="savedList" aria-live="polite"></ul>
      </div>

      <div class="list" aria-label="Tip categories">
        <h3>Categories</h3>
        <ul id="categories">
          <li>Dribbling</li>
          <li>Shooting</li>
          <li>Defense</li>
          <li>Conditioning</li>
          <li>Teamplay</li>
        </ul>
      </div>
    </aside>

    <footer>
      <div>Made for practice ✦ Local-only (no server)</div>
      <div id="version">v1.0</div>
    </footer>
  </div>

  <script>
    // === Tip library - edit these to add or change tips ===
    const TIPS = [
      // Dribbling
      {cat:'Dribbling', text:'Keep your head up while dribbling — it lets you see open teammates and read the defense.'},
      {cat:'Dribbling', text:'Practice low, quick dribbles with your fingertips, not your palm, to improve control.'},
      {cat:'Dribbling', text:'Master the crossover by changing speed first, then direction — speed sells the move.'},

      // Shooting
      {cat:'Shooting', text:'Shoot with relaxed hands: imagine the ball rolling off your fingers like a jump rope.'},
      {cat:'Shooting', text:'Use consistent footwork before every shot — set your base, square shoulders, then release.'},
      {cat:'Shooting', text:'Aim for the back of the rim on long shots — it increases forgiving margin.'},

      // Defense
      {cat:'Defense', text:'Stay in a low stance and shuffle your feet — don’t cross your legs when defending.'},
      {cat:'Defense', text:'Use active hands to bother passes — a hand in passing lanes creates turnovers.'},
      {cat:'Defense', text:'Communicate constantly: call switches, screens, and rotations so teammates can help.'},

      // Conditioning
      {cat:'Conditioning', text:'Do short high-intensity sprints with quick breaks to mimic game bursts.'},
      {cat:'Conditioning', text:'Include lateral quickness drills — they matter more for defense than straight-line speed.'},

      // Teamplay
      {cat:'Teamplay', text:'Lead by example: hustle plays and consistent effort improve team chemistry.'},
      {cat:'Teamplay', text:'Set simple screening rules so cutters know where they’ll find space.'},

      // Coaching/mental
      {cat:'Coaching', text:'Focus on one habit at a time in practice — too many goals slow improvement.'},
      {cat:'Coaching', text:'Film study beats guessing — watch a clip and look for 2 things to improve.'},

      // Fun / drills
      {cat:'Drills', text:'Try 1-minute shooting challenges: 30 makes from spots around the arc for focus.'},
      {cat:'Drills', text:'Play "21" with restrictions (only bank shots, or only off-the-dribble) to train weaknesses.'}
    ];

    // DOM elements
    const tipEl = document.getElementById('tip');
    const newTipBtn = document.getElementById('newTip');
    const copyBtn = document.getElementById('copyBtn');
    const shareBtn = document.getElementById('shareBtn');
    const saveBtn = document.getElementById('saveBtn');
    const savedList = document.getElementById('savedList');
    const countEl = document.getElementById('count');
    const randomizeBtn = document.getElementById('randomizeBtn');

    // state
    let current = null;
    let saved = JSON.parse(localStorage.getItem('bb_saved') || '[]');
    let lastIndex = -1;

    function updateCount(){ countEl.textContent = TIPS.length }

    function pickRandom(specificCat){
      // Return a random tip; avoid immediate repeat when possible
      let pool = TIPS;
      if(specificCat){ pool = TIPS.filter(t=>t.cat.toLowerCase()===specificCat.toLowerCase()) }
      if(pool.length===0) return {cat:'', text:'No tips available for that category.'}
      let i;
      if(pool.length===1) i = 0; else do { i = Math.floor(Math.random()*pool.length) } while (i===lastIndex);
      lastIndex = i;
      return pool[i];
    }

    function showTip(obj){
      // small animation
      tipEl.style.opacity = 0; tipEl.style.transform = 'translateY(8px)';
      setTimeout(()=>{
        tipEl.textContent = obj.text;
        tipEl.setAttribute('data-cat', obj.cat || '');
        tipEl.style.opacity = 1; tipEl.style.transform = 'translateY(0)';
        current = obj;
      }, 160);
    }

    function renderSaved(){
      savedList.innerHTML = '';
      if(saved.length===0){ savedList.innerHTML = '<li style="opacity:.6">No saved tips — click Save when you like one.</li>'; return }
      saved.forEach((s, idx)=>{
        const li = document.createElement('li');
        li.textContent = s.text;
        li.tabIndex = 0;
        li.title = s.cat || '';
        // quick remove on double click
        li.addEventListener('dblclick', ()=>{ saved.splice(idx,1); persistSaved(); renderSaved() });
        savedList.appendChild(li);
      });
    }

    function persistSaved(){ localStorage.setItem('bb_saved', JSON.stringify(saved)) }

    // event handlers
    newTipBtn.addEventListener('click', ()=> showTip(pickRandom()));
    randomizeBtn.addEventListener('click', ()=>{
      // pick a random category and then a tip from it
      const cats = [...new Set(TIPS.map(t=>t.cat))];
      const cat = cats[Math.floor(Math.random()*cats.length)];
      showTip(pickRandom(cat));
    });

    copyBtn.addEventListener('click', async ()=>{
      if(!current) return;
      try{ await navigator.clipboard.writeText(current.text); copyBtn.textContent = 'Copied!'; setTimeout(()=>copyBtn.textContent='Copy',900) }
      catch(e){ copyBtn.textContent = 'Copy (failed)'; setTimeout(()=>copyBtn.textContent='Copy',1200) }
    });

    shareBtn.addEventListener('click', async ()=>{
      if(!current) return;
      const shareData = {title:'Basketball tip', text:current.text};
      if(navigator.share){
        try{ await navigator.share(shareData) } catch(e){}
      } else {
        // fallback: open a window with encoded text so user can copy
        const url = 'data:text/plain;charset=utf-8,' + encodeURIComponent(current.text);
        const a = document.createElement('a'); a.href = url; a.download = 'basketball-tip.txt'; document.body.appendChild(a); a.click(); a.remove();
      }
    });

    saveBtn.addEventListener('click', ()=>{
      if(!current) return;
      // avoid duplicates
      if(saved.some(s=>s.text===current.text)){
        saveBtn.textContent = 'Saved'; setTimeout(()=>saveBtn.textContent='Save',900); return;
      }
      saved.unshift(current); if(saved.length>30) saved.pop(); persistSaved(); renderSaved(); saveBtn.textContent='Saved'; setTimeout(()=>saveBtn.textContent='Save',900);
    });

    // keyboard accessibility: Space/Enter triggers get tip when focused anywhere
    window.addEventListener('keydown', e=>{
      if((e.code === 'Space' || e.code === 'Enter') && document.activeElement.tagName !== 'INPUT' && document.activeElement.tagName !== 'TEXTAREA'){
        e.preventDefault(); newTipBtn.click();
      }
    });

    // initialize
    updateCount(); renderSaved();

    // show a random greeting tip on load after a short delay
    setTimeout(()=> showTip({text:'Warm up with 5 minutes of ball-handling and layup lines to get a rhythm.'}), 220);

    // expose a small API for embedding or testing in console
    window.bb = {
      getRandom: ()=> pickRandom(),
      getAll: ()=> TIPS,
      saveCurrent: ()=>{ if(current){ saved.unshift(current); persistSaved(); renderSaved(); } },
    };
  </script>
</body>
</html>
